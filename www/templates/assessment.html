<ion-view title="Assessment" ng-init="getAssessmentdata()">
  <ion-header-bar class="bar-header custom-header">
    <h1 class="title">Assessment</h1>
    <i class="button button-clear ion-gear-b settingsBtn" ui-sref="settings({pageId:1})"></i>
  </ion-header-bar>
	<ion-header-bar class="bar-subheader">
    <div class="fixedBtnDiv">
    	<span class="clientName capitalize">{{user_name}} <span class="patientName capitalize">{{patient_name}}</span></span>
    	<div class="update-button" ng-show="showUpdateBtn">
    		<a class="button updateBtn ink" ng-click="updateAssessment()">Update</a>
    	</div>
    </div>
  </ion-header-bar>
    <ion-content has-header="true" has-tabs="true">
    <!-- <div class="row" ng-show="updateAssessmentSpan">
      <div class="col right-align">
      <br/><span><i class="ion-ios-checkmark" style="font-size:16px;"></i>  {{updateMessage}}</span>
      </div>
    </div> -->
    <form name="myForm">
    <div class="questionWrapper" ng-show="assessmentDiv">
      <div class="rowMargin" ng-repeat="data in questions" ng-if="data.question_type == 1">
        <div class="row">
          <div class="col">
            {{data.question}}
          </div>
        </div>
        <div class="row">
          <div class="col">
            <select name="question_{{$index}}" class="selectItem" ng-options="opt as opt.answer_text for opt in data.answers" ng-model="selectedValue" ng-change="GetValue(data._id, data.question_type, data.disease._id, data.disease.title, data.question, selectedValue)" ng-required="true" >
              <option value="">-- Select --</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <span class="form-error" ng-show="myForm['question_' + $index].$dirty && myForm['question_' + $index].$invalid">Please select your answer.</span>
          </div>
        </div>
      </div>
        <div class="button-wrapper2">
          <button ng-show="showCompleteBtn" class="button button-block complete-button ink" type="submit" ng-disabled="myForm.$invalid" ng-click="completeAssessment()">Complete</button>
        </div>
    </div>
    </form>
    <div class="emptyDiv">
        &nbsp;
      </div>
      <div class="row responsive-sm" ng-show="showNoDataDiv">
        <div class="col">
          <p>{{noDataMessage}}</p>
        </div>
      </div>
      <div class="row responsive-sm" ng-show="nextAssessmentDiv">
        <div class="col">
          <p>{{nextAssessmentMessage}}</p>
        </div>
      </div>
      <div class="row responsive-sm" ng-show="noAssessmentInDB">
        <div class="col">
          <p>{{noAssessmentMessage}}</p>
        </div>
      </div>
    </ion-content>
</ion-view>